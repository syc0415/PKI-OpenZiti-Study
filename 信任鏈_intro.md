# 信任鏈

**信任鏈**（Chain of Trust）是PKI中的一個核心概念，包含一系列相互依賴的信任關係，這些關係從終端實體的digital certificate一直延伸到根證書頒發機構（Root Certificate Authority，Root CA）。

### 基本結構

1. **Root Certificate**：信任鏈的起點，通常由根證書頒發機構（Root CA）簽署。根證書通常為自簽（Self-signed），是信任的最高層級。
2. **intermediate Certificates**：由Root CA簽發，並且可以進一步簽發其他中級或終端實體證書，用於分層次地管理和頒發證書，以增強安全性。
3. **End Entity Certificates**：分配給最終用戶、設備或應用程序的證書，由中級證書頒發機構簽發。終端實體使用這些證書來進行數據加密和身份驗證。

### 工作原理

1. **驗證根證書**：信任鏈的起點是根證書。瀏覽器或操作系統通常內建一組受信任的根證書列表。這些根證書會作為驗證其他證書的起點。
2. **驗證中級證書**：當驗證某個數字證書時，驗證過程會追溯到它的上級證書（e.g. 中級證書）。這個過程會一直進行到達根證書為止。每個中級證書都需要被其上級證書所簽署和驗證。
3. **驗證終端實體證書**：終端實體證書（例如，網站的SSL/TLS證書）通常由中級證書頒發機構簽發。在這個過程中，系統會通過驗證所有中級證書來建立一條完整的信任鏈，最終到達根證書。如果整條信任鏈都被驗證成功，則終端實體證書被認為是可信的。

### 重要性

- **分層管理**：根Root CA可以將證書頒發權限交給中級證書頒發機構，提高靈活性。
- **信任的擴展**：通過信任根證書，可以自動信任下面所延展的所有中級證書和終端實體證書。